<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Color Guessing Game</title>
  <style>
    :root{--bg:#232323;--accent:#2ecc71}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;margin:0;background:var(--bg);color:#fff;display:flex;flex-direction:column;min-height:100vh}
    header{background:linear-gradient(90deg,#1f1f1f, #2b2b2b);padding:18px 24px;display:flex;align-items:center;justify-content:space-between}
    h1{margin:0;font-size:20px}
    .controls{display:flex;gap:8px;align-items:center}
    button{background:#fff;color:#111;border:0;padding:8px 12px;border-radius:6px;cursor:pointer;font-weight:600}
    button.secondary{background:transparent;color:#ddd;border:1px solid rgba(255,255,255,0.08)}
    main{flex:1;padding:28px;max-width:960px;margin:0 auto;width:100%}
    .topbar{display:flex;align-items:center;gap:18px;margin-bottom:18px}
    .target{font-size:20px;background:linear-gradient(90deg,#3b3b3b,#2b2b2b);padding:10px 14px;border-radius:8px}
    .message{min-width:160px}
    .board{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:18px}
    .square{padding-top:75%;position:relative;border-radius:8px;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.4);transition:transform .14s ease,filter .14s}
    .square:active{transform:scale(.98)}
    .square.hidden{opacity:0;pointer-events:none;transform:scale(.95)}
    .square > span{position:absolute;inset:0;border-radius:8px;display:block}
    footer{padding:18px 24px;text-align:center;font-size:13px;color:#bbb}
    a.link{color:var(--accent);text-decoration:none}
    .settings{display:flex;gap:8px;align-items:center}
    @media(min-width:720px){.board{grid-template-columns:repeat(6,1fr)}}
  </style>
</head>
<body>
  <header>
    <h1>üé® Color Guessing Game</h1>
    <div class="controls">
      <div class="settings">
        <label style="font-size:13px;color:#bbb;margin-right:6px">Mode</label>
        <button id="easyBtn" class="secondary">Easy (3)</button>
        <button id="hardBtn">Hard (6)</button>
      </div>
      <button id="resetBtn">New Colors</button>
    </div>
  </header>

  <main>
    <div class="topbar">
      <div class="target">Guess which square is: <strong id="colorDisplay">rgb(0, 0, 0)</strong></div>
      <div class="message" id="message">&nbsp;</div>
      <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
        <button id="showAllBtn" class="secondary">Show All</button>
        <a class="link" href="https://chatgpt.com/share/68cb9f4402708191bc2a544d25b92098" target="_blank" rel="noopener">Open AI Chat History</a>
      </div>
    </div>

    <div class="board" id="board" aria-live="polite">
      <!-- squares created by JS -->
    </div>

    <p style="margin-top:20px;color:#ccc;line-height:1.4">Instructions: Click the square that matches the RGB value. Use <strong>Easy</strong> for 3 choices or <strong>Hard</strong> for 6. Press <em>New Colors</em> to restart. If you're stuck, click <em>Show All</em>. You can also check the <a class="link" href="https://chatgpt.com/share/68cb9f4402708191bc2a544d25b92098" target="_blank" rel="noopener">AI Chat History</a> for reference.</p>
  </main>

  <footer>
    Built with ‚ù§Ô∏è ‚Äî Save this file as <code>color-game.html</code> and open in any modern browser.
  </footer>

  <script>
    // Game logic
    const board = document.getElementById('board');
    const colorDisplay = document.getElementById('colorDisplay');
    const message = document.getElementById('message');
    const resetBtn = document.getElementById('resetBtn');
    const easyBtn = document.getElementById('easyBtn');
    const hardBtn = document.getElementById('hardBtn');
    const showAllBtn = document.getElementById('showAllBtn');

    let numSquares = 6;
    let colors = [];
    let pickedColor = '';

    function randomInt(max){ return Math.floor(Math.random()*max); }
    function randomColor(){ return `rgb(${randomInt(256)}, ${randomInt(256)}, ${randomInt(256)})`; }
    function generateColors(n){ return Array.from({length:n}, randomColor); }

    function pick(){ return colors[randomInt(colors.length)]; }

    function setupBoard(){
      board.innerHTML = '';
      colors.forEach((c,i)=>{
        const div = document.createElement('div');
        div.className = 'square';
        div.setAttribute('role','button');
        div.setAttribute('aria-label',`color choice ${i+1}`);
        const span = document.createElement('span');
        span.style.background = c;
        div.appendChild(span);
        div.addEventListener('click', ()=> handleClick(div, c));
        board.appendChild(div);
      });
    }

    function handleClick(div, c){
      if(c === pickedColor){
        message.textContent = 'Correct!';
        document.querySelectorAll('.square').forEach(s=>{ s.classList.remove('hidden'); s.firstChild.style.background = pickedColor; });
        headerWin(pickedColor);
        resetBtn.textContent = 'Play Again?';
      } else {
        div.classList.add('hidden');
        message.textContent = 'Try Again';
      }
    }

    function headerWin(color){
      document.querySelector('header').style.background = color;
    }

    function reset(){
      colors = generateColors(numSquares);
      pickedColor = pick();
      colorDisplay.textContent = pickedColor;
      message.textContent = '';
      resetBtn.textContent = 'New Colors';
      document.querySelector('header').style.background = '';
      setupBoard();
    }

    // Controls
    resetBtn.addEventListener('click', reset);
    easyBtn.addEventListener('click', ()=>{ numSquares = 3; easyBtn.classList.add('secondary'); hardBtn.classList.remove('secondary'); reset(); });
    hardBtn.addEventListener('click', ()=>{ numSquares = 6; hardBtn.classList.add('secondary'); easyBtn.classList.remove('secondary'); reset(); });
    showAllBtn.addEventListener('click', ()=>{ document.querySelectorAll('.square').forEach((s,i)=>{ s.classList.remove('hidden'); s.firstChild.style.background = colors[i] }); message.textContent = 'All revealed'; });

    // Init
    // default mode: hard
    hardBtn.classList.add('secondary');
    reset();
  </script>
</body>
</html>
